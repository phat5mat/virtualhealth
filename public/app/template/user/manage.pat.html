<h3>Manage Patient Account</h3>
<div class="container">
    <div class="col-md-4 text-center tableUser">
        <div class="row">
            <img width="150px" height="150px" ng-src="app/imgs/no-avatar.png">
        </div>
        <div class="row">
            <h3 >{{ patient.name }}</h3>
        </div>
        <div class="row controlRow" >
            <button class="btn btn-default controlButton">Information</button>
        </div>
        <div class="row controlRow">
            <button class="btn btn-default controlButton">Health</button>
        </div>
        <div class="row controlRow">
            <button class="btn btn-default controlButton">Balance</button>
        </div>

    </div>
    <div id="informationTab" class="col-md-8 pull-left">
        <div class="row" style="padding-left: 15px">
            <button class="btn btn-warning" ng-click="showUpdate()" ng-disabled="updateToggle">Edit</button>
            <button class="btn btn-warning" ng-click="showChangePassword()" ng-disabled="changePasswordToggle">Change Password</button>
        </div>
        <form class="form-group" name="updateForm">
            <div class="panel panel-default"  ng-show="updateToggle">
                <div class="panel-heading">
                    <h3 class="panel-title"><b>Update Information</b></h3>
                </div>
                <div class="panel-body" >
                        <md-input-container class="md-block">
                            <md-icon md-svg-src="app/imgs/ic_person_24px.svg" class="email"></md-icon>
                            <label>Name</label>
                            <input required md-maxlength="30" name="updateName" ng-model="updateUser.updateName">
                            <div ng-messages="updateForm.updateName.$error">
                                <div ng-message="required">Name is required.</div>
                                <div ng-message="md-maxlength">Maximum characters is 30.</div>


                            </div>
                        </md-input-container>

                        <md-input-container class="md-block">
                            <md-icon md-svg-src="app/imgs/ic_email_24px.svg" class="email"></md-icon>
                            <label>Email</label>
                            <input required type="email" name="email" ng-model="updateUser.email">
                            <div ng-messages="updateForm.email.$error">
                                <div ng-message="required">Email is required.</div>
                                <div ng-message="email">Email is invalid.</div>
                            </div>
                        </md-input-container>

                        <md-input-container class="md-block">
                            <md-icon md-svg-src="app/imgs/ic_local_phone_24px.svg" class="email"></md-icon>
                            <label>Phone number</label>
                            <input required name="phone" ng-model="updateUser.phone">
                            <div ng-messages="updateForm.phone.$error">
                                <div ng-message="required">Phone number is required.</div>
                            </div>
                        </md-input-container>

                        <md-input-container class="md-block">
                            <label>Date of Birth</label>
                            <md-icon md-svg-src="app/imgs/ic_date_range_24px.svg" class="email"></md-icon>
                            <input type="date" required name="dateofbirth" ng-model="updateUser.dateofbirth">
                            <div ng-messages="updateForm.dateofbirth.$error">
                                <div ng-message="required">Date of birth is required.</div>
                            </div>
                        </md-input-container>

                    <div class="row" style="padding-left: 15px">
                        <button class="btn btn-danger" ng-click="updateToggle = false" ng-show="updateToggle">Cancel</button>
                        <button type="submit" ng-disabled="updateForm.$invalid"
                                class="btn btn-success" ng-click="saveUpdate()"
                                ng-show="updateToggle">Save</button>
                    </div>
                </div>
            </div>

        </form>

        <form class="form-group" name="changePasswordForm">
            <div class="panel panel-default"  ng-show="changePasswordToggle">
                <div class="panel-heading">
                    <h3 class="panel-title"><b>Change Password</b></h3>
                </div>
                <div class="panel-body" >
                    <table class="table ">
                        <tbody>
                        <div ng-init="wrongPass = false" ng-show="wrongPass"
                             class="alert alert-danger text-center" role="alert">
                            <b>{{ alertPass }}</b>
                        </div>
                        <md-input-container class="md-block">
                            <label>Old Password</label>
                            <input ng-minlength="6" ng-maxlength="15"  type="password"
                                   required name="oldpassword" ng-model="oldpass">
                            <div ng-messages="changePasswordForm.oldpassword.$error">
                                <div ng-message="required">Old Password is required.</div>
                                <div ng-message="minlength">Password minimum characters is 6.</div>
                                <div ng-message="maxlength">Password minimum characters is 15.</div>
                            </div>
                        </md-input-container>

                        <md-input-container class="md-block">
                            <label>New Password</label>
                            <input ng-minlength="6" ng-maxlength="15" type="password"
                                   required name="newpassword" ng-model="newpass">
                            <div ng-messages="changePasswordForm.newpassword.$error">
                                <div ng-message="required">New Password is required.</div>
                                <div ng-message="minlength">Password minimum characters is 6.</div>
                                <div ng-message="maxlength">Password minimum characters is 15.</div>
                            </div>
                        </md-input-container>

                        <md-input-container class="md-block">
                            <label>Confirm Password</label>
                            <input ng-disabled="changePasswordForm.newpassword.$invalid" compare-to="newpass" ng-minlength="6" ng-maxlength="15" type="password"
                                   name="confirmpass" ng-model="confirmpass">
                            <div ng-messages="changePasswordForm.confirmpass.$error">
                                <div ng-message="compareTo">Confirm password is not match with New Password.</div>
                            </div>
                        </md-input-container>


                        </tbody>
                    </table>
                    <div class="row" style="padding-left: 15px">
                        <button class="btn btn-danger" ng-click="changePasswordToggle = false"
                                ng-show="changePasswordToggle">Cancel</button>
                        <button type="submit" ng-disabled="changePasswordForm.$invalid"
                                class="btn btn-success" ng-click="updatePassword()"
                                ng-show="changePasswordToggle">Save</button>
                    </div>
                </div>
            </div>

        </form>


        <div class="panel panel-default" ng-hide="updateToggle || changePasswordToggle">
            <div class="panel-heading">
                <h3 class="panel-title"><b>Information</b></h3>
            </div>
            <div class="panel-body">
                <table class="table" ng-init="loadPatientDetails()">
                    <tbody>
                    <tr>
                        <td class="col-md-4">
                            <md-icon md-svg-src="app/imgs/ic_person_24px.svg" class="email"></md-icon>
                            Name
                        </td>
                        <td class="col-md-8">
                            {{ patient.name }}
                        </td>
                    </tr>

                    <tr>
                        <td class="col-md-4">
                            <md-icon md-svg-src="app/imgs/ic_email_24px.svg" class="email"></md-icon>
                            Email
                        </td>
                        <td class="col-md-8">
                            {{ patient.email }}
                        </td>
                    </tr>

                    <tr>
                        <td class="col-md-4">
                            <md-icon md-svg-src="app/imgs/ic_local_phone_24px.svg" class="email"></md-icon>
                            Phone Number
                        </td>
                        <td class="col-md-8">
                            {{ patient.phone }}
                        </td>
                    </tr>

                    <tr>
                        <td class="col-md-4">
                            <md-icon md-svg-src="app/imgs/ic_date_range_24px.svg" class="email"></md-icon>
                            Date of Birth
                        </td>
                        <td class="col-md-8">
                            {{ patient.dateofbirth }}
                        </td>
                    </tr>

                    <tr>
                        <td class="col-md-4">
                            <md-icon md-svg-src="app/imgs/ic_date_range_24px.svg" class="email"></md-icon>
                            Created Date
                        </td>
                        <td class="col-md-8">
                            {{ patient.created_at | date:"MM/dd/yyyy 'at' h:mma"}}
                        </td>
                    </tr>

                    <tr>
                        <td class="col-md-4">
                            <md-icon md-svg-src="app/imgs/ic_date_range_24px.svg" class="email"></md-icon>
                            Last Updated
                        </td>
                        <td class="col-md-8">
                            {{ patient.updated_at | date:"MM/dd/yyyy 'at' h:mma"}}
                        </td>
                    </tr>

                    </tbody>
                </table>
            </div>
        </div>


    </div>
</div>
